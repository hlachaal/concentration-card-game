(this["webpackJsonpconcentration-card-game"]=this["webpackJsonpconcentration-card-game"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),o=(a(16),a(1)),u=a.n(o),i=a(2),d=a(4),l=a(5),f=a(8),h=a(6),p=a(3),v=a(7),m=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:this.props.show?null:"hide",alt:this.props.alt,src:this.props.src}))}}]),t}(c.Component);function b(e,t){var a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.a.awrap(fetch("".concat("https://deckofcardsapi.com/api/","/").concat(t)));case 2:if(200===(a=c.sent).status){c.next=5;break}throw new Error("Request Error :: api :: request :: ".concat(e," ").concat(t," :: ").concat(a.status));case 5:return c.next=7,u.a.awrap(a.json());case 7:return c.abrupt("return",c.sent);case 8:case"end":return c.stop()}}))}function w(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(b("GET","deck/".concat(e,"/draw/?count=52")));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}var j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).newGame=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(b("GET","deck/new/shuffle/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}})).then(function(e){this.setState(Object(i.a)({},this.state,{selected:[{code:"",value:""},{code:"",value:""}],deck_id:e.deck_id,remaining:e.remaining,selectionMode:!1}))}.bind(Object(p.a)(a))).catch((function(e){console.log(e)})));case 2:a.loadBoard();case 3:case"end":return e.stop()}}))},a.loadBoard=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(w(a.state.deck_id).then(function(e){this.setState(Object(i.a)({},this.state,{cards:e.cards,selectionMode:!0}))}.bind(Object(p.a)(a))).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}))},a.selectCard=function(e,t){switch(a.state.selected.filter((function(e){return""!==e.code})).length){case 0:a.setState(Object(i.a)({},a.state,{selected:[{code:e,value:t}]}));break;case 1:var c=a.state.selected;c.push({code:e,value:t}),a.setState(Object(i.a)({},a.state,{selected:c})),setTimeout((function(){if(a.state.selected[0].value===t){var e=a.state.cards.filter((function(e){return e.code!==a.state.selected[1].code&&e.code!==a.state.selected[0].code}));a.setState(Object(i.a)({},a.state,{cards:e,selected:[{code:"",value:""},{code:"",value:""}]}))}else a.setState(Object(i.a)({},a.state,{selected:[{code:"",value:""},{code:"",value:""}]}))}),1e3);break;default:a.setState(Object(i.a)({},a.state,{selected:[{code:"",value:""},{code:"",value:""}]}))}},a.state={deck_id:"",cards:[],selected:[{code:"",value:""},{code:"",value:""}],selectionMode:!1},a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"board"},n.a.createElement("button",{onClick:this.newGame},"New Game"),n.a.createElement("div",{className:"deck"},this.state.cards.length>0?this.state.cards.map((function(t){return n.a.createElement("div",{className:"anchor",key:"".concat(t.code),onClick:function(){return e.selectCard(t.code,t.value)}},n.a.createElement(m,{show:e.state.selected.filter((function(e){return e.code===t.code})).length>0,alt:"".concat(t.value," ").concat(t.suit),src:t.image}))})):null,0===this.state.cards.length&&this.state.selectionMode?n.a.createElement("div",{className:"done"},"Game ended"):null))}}]),t}(c.Component);var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(j,null))};r.a.render(n.a.createElement(O,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.fd3628f5.chunk.js.map